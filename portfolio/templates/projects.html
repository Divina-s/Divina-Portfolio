{% extends 'base.html' %}
{% load static %}


{% block title %}Projects â€” Divina Mbel{% endblock %}

{% block content %}
<h2 class="mb-5 text-center fw-bold" style="color:#1d3557;">My Projects</h2>

<div class="row g-4">
  {% for project in projects %}
  <div class="col-md-6 col-lg-4">
    <div class="card h-100 shadow-sm border-0 hover-lift">

      {# Use project.image_name if exists, otherwise fallback to default image #}
      <img src="{% static 'images/' %}{{ project.image_name|default:'default_project.jpg' }}" 
           class="card-img-top" 
           alt="{{ project.title }}">

      <div class="card-body d-flex flex-column">
        <h5 class="card-title fw-bold">{{ project.title }}</h5>
        <p class="card-text text-muted">{{ project.description|truncatewords:25 }}</p>

        {# Tech badges if any #}
        {% if project.tech_stack %}
        <div class="mb-3">
          {% for tech in project.tech_stack.all %}
          <span class="badge bg-primary me-1">{{ tech.name }}</span>
          {% endfor %}
        </div>
        {% endif %}

        <div class="mt-auto d-flex flex-wrap gap-2">
          {% if project.github_url %}
          <a href="{{ project.github_url }}" target="_blank" class="btn btn-outline-dark btn-sm">
            <i class="fab fa-github me-1"></i> GitHub
          </a>
          {% endif %}
          {% if project.live_url %}
          <a href="{{ project.live_url }}" target="_blank" class="btn btn-primary btn-sm">Live Demo</a>
          {% endif %}
          <a href="{% url 'project_detail' project.pk %}" class="btn btn-secondary btn-sm">Details</a>
        </div>
      </div>
    </div>
  </div>
  {% empty %}
  <p class="text-center text-muted">No projects available at the moment. Stay tuned!</p>
  {% endfor %}
</div>

<style>
.hover-lift {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.hover-lift:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 25px rgba(0,0,0,0.15);
}
.card-img-top {
  height: 180px;
  object-fit: cover;
  border-top-left-radius: 0.5rem;
  border-top-right-radius: 0.5rem;
}
.badge {
  font-size: 0.75rem;
}
</style>
{% endblock %}
